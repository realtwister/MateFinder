\hypertarget{classBoard}{}\section{Board Class Reference}
\label{classBoard}\index{Board@{Board}}


{\ttfamily \#include $<$Board.\+h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBoard_a9ee491d4fea680cf69b033374a9fdfcb}\label{classBoard_a9ee491d4fea680cf69b033374a9fdfcb}} 
\hyperlink{classBoard_a9ee491d4fea680cf69b033374a9fdfcb}{Board} ()
\begin{DoxyCompactList}\small\item\em Empty constructor, defaulting to the starting position. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a155259ecd3131cbf8c155c1dd19026b0}\label{classBoard_a155259ecd3131cbf8c155c1dd19026b0}} 
\hyperlink{classBoard_a155259ecd3131cbf8c155c1dd19026b0}{Board} (const char $\ast$str)
\begin{DoxyCompactList}\small\item\em Read from F\+EN string. \end{DoxyCompactList}\item 
\hyperlink{classBoard_a8dd2a85d6b43bcab4eaf83e1541aeb18}{Board} (const char $\ast$str, const bool file)
\begin{DoxyCompactList}\small\item\em Read from F\+EN notation from file or string and calculate legal moves. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a8359f43f59d4eb04c679f0415c26add4}\label{classBoard_a8359f43f59d4eb04c679f0415c26add4}} 
Piece\+::\+Piece \hyperlink{classBoard_a8359f43f59d4eb04c679f0415c26add4}{get\+Square} (const \hyperlink{structsquare}{square}$<$ int $>$ pos) const
\begin{DoxyCompactList}\small\item\em Get what piece is occupying the given square. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a58ee677360099107d0d33becdc2af888}\label{classBoard_a58ee677360099107d0d33becdc2af888}} 
bool \hyperlink{classBoard_a58ee677360099107d0d33becdc2af888}{is\+Check} () const
\begin{DoxyCompactList}\small\item\em Get whether the player to move is checked. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a78089ae51f1e8e02dfec7c739f3ca74a}\label{classBoard_a78089ae51f1e8e02dfec7c739f3ca74a}} 
bool \hyperlink{classBoard_a78089ae51f1e8e02dfec7c739f3ca74a}{black\+To\+Move} () const
\begin{DoxyCompactList}\small\item\em Get whether black is to move. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_adfdc9dd19eb4119b6926a70c89db7d31}\label{classBoard_adfdc9dd19eb4119b6926a70c89db7d31}} 
bool \hyperlink{classBoard_adfdc9dd19eb4119b6926a70c89db7d31}{is\+Mate} () const
\begin{DoxyCompactList}\small\item\em Get whether the current position is mate. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a6a9553957873a05f9cca67f8f0677b74}\label{classBoard_a6a9553957873a05f9cca67f8f0677b74}} 
bool \hyperlink{classBoard_a6a9553957873a05f9cca67f8f0677b74}{is\+Draw} () const
\begin{DoxyCompactList}\small\item\em Get whether the current position is drawn. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a993b2839790b3fbe4b1c6ba2a2257fe1}\label{classBoard_a993b2839790b3fbe4b1c6ba2a2257fe1}} 
\hyperlink{structmoveArray}{move\+Array} \& \hyperlink{classBoard_a993b2839790b3fbe4b1c6ba2a2257fe1}{get\+Moves} ()
\begin{DoxyCompactList}\small\item\em Get the list of legal moves. \end{DoxyCompactList}\item 
void \hyperlink{classBoard_a5732564ae8ce7f247072ded83f71dc75}{exec\+Move} (const \hyperlink{structmove}{move} mv)
\begin{DoxyCompactList}\small\item\em Execute a move. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_ac33aaf879882d2c1abbab14c9727f2f9}\label{classBoard_ac33aaf879882d2c1abbab14c9727f2f9}} 
void \hyperlink{classBoard_ac33aaf879882d2c1abbab14c9727f2f9}{change\+Color} ()
\begin{DoxyCompactList}\small\item\em Change the color of the player that is to move. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a5f148daa03da25d40dff3fc613568d6f}\label{classBoard_a5f148daa03da25d40dff3fc613568d6f}} 
void \hyperlink{classBoard_a5f148daa03da25d40dff3fc613568d6f}{clear\+Board} ()
\begin{DoxyCompactList}\small\item\em Clear the entire board. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a2a15fa8b4b4db9d11093c6c806344fc6}\label{classBoard_a2a15fa8b4b4db9d11093c6c806344fc6}} 
void \hyperlink{classBoard_a2a15fa8b4b4db9d11093c6c806344fc6}{set\+Piece} (const \hyperlink{structsquare}{square}$<$ int $>$ sq, const Piece\+::\+Piece piece)
\begin{DoxyCompactList}\small\item\em Place a piece on a given square. \end{DoxyCompactList}\item 
\hyperlink{classBoard}{Board} \hyperlink{classBoard_a3eb8e7257733fd3b9e00c8c37b8cc433}{clone\+And\+Exec\+Move} (const \hyperlink{structmove}{move} mv) const
\begin{DoxyCompactList}\small\item\em Clone the current position and execute a move. \end{DoxyCompactList}\item 
void \hyperlink{classBoard_a3f5b48d92226217de5d488f3d5fb234a}{print\+Board} () const
\begin{DoxyCompactList}\small\item\em Print a formatted representation of the board. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Types}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{classBoard_a6f2173ec700556df381b6623a5482850}\label{classBoard_a6f2173ec700556df381b6623a5482850}} 
enum {\bfseries state\+Flags} \+: char \{ \newline
{\bfseries check\+Mask} = 0x01, 
{\bfseries white\+Castle\+Kingside\+Mask} = 0x02, 
{\bfseries white\+Castle\+Queenside\+Mask} = 0x04, 
{\bfseries black\+Castle\+Kingside\+Mask} = 0x08, 
\newline
{\bfseries black\+Castle\+Queenside\+Mask} = 0x10, 
{\bfseries black\+To\+Move\+Mask} = 0x20, 
{\bfseries draw\+Mask} = 0x40
 \}
\end{DoxyCompactItemize}
\subsection*{Private Member Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{classBoard_a49045c77d568e4b5a00f176a2add54c8}{from\+Str} (const char $\ast$str)
\begin{DoxyCompactList}\small\item\em Read the F\+EN notation from a string. \end{DoxyCompactList}\item 
int \hyperlink{classBoard_a4043087fc35e9706d0e83ec07225fe33}{from\+File} (const char $\ast$file\+Name)
\begin{DoxyCompactList}\small\item\em Read the F\+EN notation from a file. \end{DoxyCompactList}\item 
void \hyperlink{classBoard_ad4d3ebb2342b74d9455a89924a54aa14}{calc\+Moves} ()
\begin{DoxyCompactList}\small\item\em Calculate legal moves. \end{DoxyCompactList}\item 
void \hyperlink{classBoard_aa70526dde51ab18ec4011c07a7e38e60}{get\+Piece\+Moves} (\hyperlink{structmoveArray}{move\+Array} \&result, const \hyperlink{structcheck}{check} \&king\+Env, const \hyperlink{structsquare}{square}$<$ int $>$ cur\+Pos, const \hyperlink{structsquare}{square}$<$ int $>$ king\+Pos)
\begin{DoxyCompactList}\small\item\em Calculate the legal moves of the piece on square$<$int$>$ cur\+Pos. \end{DoxyCompactList}\item 
void \hyperlink{classBoard_ab63f400e8fdd7d1747c18642b59cc435}{check\+Dir} (\hyperlink{structmoveArray}{move\+Array} \&result, const \hyperlink{structcheck}{check} \&king\+Env, const \hyperlink{structsquare}{square}$<$ int $>$ base\+Pos, const \hyperlink{structsquare}{square}$<$ int $>$ dir) const
\begin{DoxyCompactList}\small\item\em Check the possible moves of a piece along some file, rank or diagonal. \end{DoxyCompactList}\item 
\hyperlink{structcheck}{check} \hyperlink{classBoard_afc291baf2c205a64255e8e55ffeff004}{get\+Check} (const \hyperlink{structsquare}{square}$<$ int $>$ king\+Pos)
\begin{DoxyCompactList}\small\item\em Get the details about a possible check at king\+Pos. \end{DoxyCompactList}\item 
bool \hyperlink{classBoard_a900420865c9acc6a18a9e25f94e3b72e}{first\+Piece} (\hyperlink{structcheck}{check} \&result, const \hyperlink{structsquare}{square}$<$ int $>$ cur\+Pos, const \hyperlink{structsquare}{square}$<$ int $>$ dir, const int friendlies) const
\begin{DoxyCompactList}\small\item\em Investigate the possibility of attacks from dir to cur\+Pos (recursive) with heatmap. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_ae8183cabc093c8bd030250c42959fa37}\label{classBoard_ae8183cabc093c8bd030250c42959fa37}} 
bool \hyperlink{classBoard_ae8183cabc093c8bd030250c42959fa37}{is\+Attacked} (const \hyperlink{structsquare}{square}$<$ int $>$ piece\+Pos) const
\begin{DoxyCompactList}\small\item\em Check whether the square$<$int$>$ at piece\+Pos is attacked. \end{DoxyCompactList}\item 
bool \hyperlink{classBoard_a8b9245cb469f2e82c23ac49edd412646}{has\+Attacker} (\hyperlink{structsquare}{square}$<$ int $>$ pos, const \hyperlink{structsquare}{square}$<$ int $>$ dir) const
\begin{DoxyCompactList}\small\item\em Invesitgate the possibility of attacks from dir at cur\+Pos. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a5068575e721428ee78754984813713e5}\label{classBoard_a5068575e721428ee78754984813713e5}} 
bool \hyperlink{classBoard_a5068575e721428ee78754984813713e5}{is\+Friendly} (const Piece\+::\+Piece piece) const
\begin{DoxyCompactList}\small\item\em Find out if a piece is friendly. \end{DoxyCompactList}\item 
\mbox{\Hypertarget{classBoard_a33b5e15eeeba65612ad3005ff5e60690}\label{classBoard_a33b5e15eeeba65612ad3005ff5e60690}} 
bool \hyperlink{classBoard_a33b5e15eeeba65612ad3005ff5e60690}{is\+Friendly} (const \hyperlink{structsquare}{square}$<$ int $>$ pos) const
\begin{DoxyCompactList}\small\item\em Find out if a square is occupied by a friendly piece. \end{DoxyCompactList}\item 
\hyperlink{classBoard_a632d2e0f09a1ad6fe835dc11ef1238cc}{Board} (const \hyperlink{classBoard}{Board} \&other, const \hyperlink{structmove}{move} mv)
\begin{DoxyCompactList}\small\item\em Private constructor to circumvent calculating the possible legal moves twice. \end{DoxyCompactList}\item 
void \hyperlink{classBoard_aeea5a9ddcdeb6e4c087f53e71f6c11ec}{flip\+Board} ()
\begin{DoxyCompactList}\small\item\em Flip the board such that pawns always advance in the direction of increasing rank. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Private Attributes}
\begin{DoxyCompactItemize}
\item 
Piece\+::\+Piece \hyperlink{classBoard_acdbd7620b4c8bc08b2e42623c2a12a39}{board} \mbox{[}8\mbox{]}\mbox{[}8\mbox{]}
\item 
char \hyperlink{classBoard_a46a6e23b1b18542b10938f2b333862f1}{state}
\item 
signed char \hyperlink{classBoard_aad3145585c03f739311c35fa8f3277d3}{en\+Passant}
\item 
\hyperlink{structmoveArray}{move\+Array} \hyperlink{classBoard_aaf6a2575c3bc280ddc9e445efd213e14}{legal\+Moves}
\end{DoxyCompactItemize}


\subsection{Detailed Description}
Objects of the \hyperlink{classBoard}{Board} class store exactly one position on the chess board. Methods of this class include methods to calculate the all legal moves in the position, and executing a move to obtain a new position. A lot of optimization has gone into the methods of \hyperlink{classBoard}{Board} and their internal communication. The following flowchart shows the respective contribution of the methods to the total runtime of the program. It was created using google-\/pprof.  
\begin{DoxyImageNoCaption}
  \mbox{\includegraphics[width=8cm]{../../img/timing.png}}
\end{DoxyImageNoCaption}
 

\subsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{classBoard_a632d2e0f09a1ad6fe835dc11ef1238cc}\label{classBoard_a632d2e0f09a1ad6fe835dc11ef1238cc}} 
\index{Board@{Board}!Board@{Board}}
\index{Board@{Board}!Board@{Board}}
\subsubsection{\texorpdfstring{Board()}{Board()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily Board\+::\+Board (\begin{DoxyParamCaption}\item[{const \hyperlink{classBoard}{Board} \&}]{other,  }\item[{const \hyperlink{structmove}{move}}]{mv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Private constructor to circumvent calculating the possible legal moves twice. 

This constructor is used when a move is executed. All the pieces must be copied, but copying all the legal moves is not necessary, as they are recalculated anyway. So, this private constructur is only to be used internally, when calling the {\itshape clone\+And\+Exec\+Move} function. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em other} & This is the board that is to be cloned. \\
\hline
\mbox{\tt in}  & {\em mv} & This is the move that is to be executed. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBoard_a8dd2a85d6b43bcab4eaf83e1541aeb18}\label{classBoard_a8dd2a85d6b43bcab4eaf83e1541aeb18}} 
\index{Board@{Board}!Board@{Board}}
\index{Board@{Board}!Board@{Board}}
\subsubsection{\texorpdfstring{Board()}{Board()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily Board\+::\+Board (\begin{DoxyParamCaption}\item[{const char $\ast$}]{str,  }\item[{const bool}]{file }\end{DoxyParamCaption})}



Read from F\+EN notation from file or string and calculate legal moves. 

\hyperlink{classBoard}{Board} constructor creating \hyperlink{classBoard}{Board} object from either a file or a string 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & Either the F\+EN string or the filename \\
\hline
\mbox{\tt in}  & {\em file} & Boolean whether to read file or string (true is file) \\
\hline
\end{DoxyParams}


\subsection{Member Function Documentation}
\mbox{\Hypertarget{classBoard_ad4d3ebb2342b74d9455a89924a54aa14}\label{classBoard_ad4d3ebb2342b74d9455a89924a54aa14}} 
\index{Board@{Board}!calc\+Moves@{calc\+Moves}}
\index{calc\+Moves@{calc\+Moves}!Board@{Board}}
\subsubsection{\texorpdfstring{calc\+Moves()}{calcMoves()}}
{\footnotesize\ttfamily void Board\+::calc\+Moves (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Calculate legal moves. 

This function calculates all possible moves, and stores them in {\itshape legal\+Moves} member. Additionally, it updates the {\itshape check} flag, to indicate whether the player that is to move is check. Finally, it also updates the {\itshape draw} flag. If there are too few pieces on the board for any mate to occur, then this flag is set. \mbox{\Hypertarget{classBoard_ab63f400e8fdd7d1747c18642b59cc435}\label{classBoard_ab63f400e8fdd7d1747c18642b59cc435}} 
\index{Board@{Board}!check\+Dir@{check\+Dir}}
\index{check\+Dir@{check\+Dir}!Board@{Board}}
\subsubsection{\texorpdfstring{check\+Dir()}{checkDir()}}
{\footnotesize\ttfamily void Board\+::check\+Dir (\begin{DoxyParamCaption}\item[{\hyperlink{structmoveArray}{move\+Array} \&}]{result,  }\item[{const \hyperlink{structcheck}{check} \&}]{king\+Env,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{base\+Pos,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{dir }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [inline]}, {\ttfamily [private]}}



Check the possible moves of a piece along some file, rank or diagonal. 

This function helps the get\+Piece\+Moves function. It checks to which squares a long range piece (i.\+e. queen, rook or bishop) can move in a given direction, and appends these moves to the array of legal moves. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em result} & This is the array of moves which the found legal moves are appended to. \\
\hline
\mbox{\tt in}  & {\em king\+Env} & Through this {\itshape check} object, the information concerning whether a given move resolves check is supplied to the function. \\
\hline
\mbox{\tt in}  & {\em base\+Pos} & This is the position of the piece whose legal moves are investigated. \\
\hline
\mbox{\tt in}  & {\em dir} & This is the direction in which the legal moves are being checked. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBoard_a3eb8e7257733fd3b9e00c8c37b8cc433}\label{classBoard_a3eb8e7257733fd3b9e00c8c37b8cc433}} 
\index{Board@{Board}!clone\+And\+Exec\+Move@{clone\+And\+Exec\+Move}}
\index{clone\+And\+Exec\+Move@{clone\+And\+Exec\+Move}!Board@{Board}}
\subsubsection{\texorpdfstring{clone\+And\+Exec\+Move()}{cloneAndExecMove()}}
{\footnotesize\ttfamily \hyperlink{classBoard}{Board} Board\+::clone\+And\+Exec\+Move (\begin{DoxyParamCaption}\item[{const \hyperlink{structmove}{move}}]{mv }\end{DoxyParamCaption}) const}



Clone the current position and execute a move. 

Clone the board and execute the given move. Return the resulting position. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em mv} & The move to be executed. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns a new \hyperlink{classBoard}{Board} object, containing the new position, after the move was executed. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBoard_a5732564ae8ce7f247072ded83f71dc75}\label{classBoard_a5732564ae8ce7f247072ded83f71dc75}} 
\index{Board@{Board}!exec\+Move@{exec\+Move}}
\index{exec\+Move@{exec\+Move}!Board@{Board}}
\subsubsection{\texorpdfstring{exec\+Move()}{execMove()}}
{\footnotesize\ttfamily void Board\+::exec\+Move (\begin{DoxyParamCaption}\item[{const \hyperlink{structmove}{move}}]{move }\end{DoxyParamCaption})}



Execute a move. 

Execute a move on a given board and consequently flip the board and recalculate the legal moves. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em move} & This is the move that is to be executed. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBoard_a900420865c9acc6a18a9e25f94e3b72e}\label{classBoard_a900420865c9acc6a18a9e25f94e3b72e}} 
\index{Board@{Board}!first\+Piece@{first\+Piece}}
\index{first\+Piece@{first\+Piece}!Board@{Board}}
\subsubsection{\texorpdfstring{first\+Piece()}{firstPiece()}}
{\footnotesize\ttfamily bool Board\+::first\+Piece (\begin{DoxyParamCaption}\item[{\hyperlink{structcheck}{check} \&}]{result,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{cur\+Pos,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{dir,  }\item[{const int}]{friendlies }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Investigate the possibility of attacks from dir to cur\+Pos (recursive) with heatmap. 

This function helps the get\+Check function to investigate the influence of one of the 8 directions on the output of the get\+Check function. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em result} & The check struct that get\+Check is working on. \\
\hline
\mbox{\tt in}  & {\em cur\+Pos} & The current position that is being investigated. \\
\hline
\mbox{\tt in}  & {\em dir} & The direction in which is being checked whether there are attacks going on. \\
\hline
\mbox{\tt in}  & {\em friendlies} & This value determines the number of friendly pieces that were already encountered. If this is 1, and an attacking piece is encountered, then {\itshape result} will indicate that this piece is pinned. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns a boolean. True is returned, if the square indicated by {\itshape cur\+Pos} is under attack from the direction indicated by {\itshape dir}. Otherwise, false is returned. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBoard_aeea5a9ddcdeb6e4c087f53e71f6c11ec}\label{classBoard_aeea5a9ddcdeb6e4c087f53e71f6c11ec}} 
\index{Board@{Board}!flip\+Board@{flip\+Board}}
\index{flip\+Board@{flip\+Board}!Board@{Board}}
\subsubsection{\texorpdfstring{flip\+Board()}{flipBoard()}}
{\footnotesize\ttfamily void Board\+::flip\+Board (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Flip the board such that pawns always advance in the direction of increasing rank. 

This function flips the board. More precisely, it mirrors the position of all pieces along the axis between the 4th and 5th rank. So, for example, a piece on e3 is placed on e6, and a piece on a8 is placed on a1. This function is used to ensure that the player that is to move always plays with its pawns advancing to ever higher ranks. \mbox{\Hypertarget{classBoard_a4043087fc35e9706d0e83ec07225fe33}\label{classBoard_a4043087fc35e9706d0e83ec07225fe33}} 
\index{Board@{Board}!from\+File@{from\+File}}
\index{from\+File@{from\+File}!Board@{Board}}
\subsubsection{\texorpdfstring{from\+File()}{fromFile()}}
{\footnotesize\ttfamily int Board\+::from\+File (\begin{DoxyParamCaption}\item[{const char $\ast$}]{file\+Name }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Read the F\+EN notation from a file. 

Initialize a \hyperlink{classBoard}{Board} object from a file containing a string in F\+EN notation. 
\begin{DoxyParams}{Parameters}
{\em file\+Name} & The name of the file. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns an error code, according to the following table\+: \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\PBS\raggedleft \textbf{ Code }&\textbf{ Description  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\PBS\raggedleft \textbf{ Code }&\textbf{ Description  }\\\cline{1-2}
\endhead
\PBS\raggedleft 0 &Success. \\\cline{1-2}
\PBS\raggedleft 1 &The syntax of str is wrong. \\\cline{1-2}
\end{longtabu}

\end{DoxyReturn}
\mbox{\Hypertarget{classBoard_a49045c77d568e4b5a00f176a2add54c8}\label{classBoard_a49045c77d568e4b5a00f176a2add54c8}} 
\index{Board@{Board}!from\+Str@{from\+Str}}
\index{from\+Str@{from\+Str}!Board@{Board}}
\subsubsection{\texorpdfstring{from\+Str()}{fromStr()}}
{\footnotesize\ttfamily int Board\+::from\+Str (\begin{DoxyParamCaption}\item[{const char $\ast$}]{str }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Read the F\+EN notation from a string. 

Initialize a \hyperlink{classBoard}{Board} object from a string in F\+EN notation. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em str} & The string in F\+EN notation \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns an error code, according to the following table\+: \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\PBS\raggedleft \textbf{ Code }&\textbf{ Description  }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\PBS\raggedleft \textbf{ Code }&\textbf{ Description  }\\\cline{1-2}
\endhead
\PBS\raggedleft 0 &Success. \\\cline{1-2}
\PBS\raggedleft 1 &The syntax of str is wrong. \\\cline{1-2}
\end{longtabu}

\end{DoxyReturn}
\mbox{\Hypertarget{classBoard_afc291baf2c205a64255e8e55ffeff004}\label{classBoard_afc291baf2c205a64255e8e55ffeff004}} 
\index{Board@{Board}!get\+Check@{get\+Check}}
\index{get\+Check@{get\+Check}!Board@{Board}}
\subsubsection{\texorpdfstring{get\+Check()}{getCheck()}}
{\footnotesize\ttfamily \hyperlink{structcheck}{check} Board\+::get\+Check (\begin{DoxyParamCaption}\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{king\+Pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Get the details about a possible check at king\+Pos. 

This function finds out what is going on in relation to the king of the player that is to move. In particular, it returns a check struct containing information about pinned pieces and squares that can resolve check. Moreover, it updates the check flag. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em king\+Pos} & The position of the king. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns a check object, containing information about pinned pieces and, in case of check, how many pieces are attacking the king, and, in case of 1 attacking piece, which squares will resolve the check. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBoard_aa70526dde51ab18ec4011c07a7e38e60}\label{classBoard_aa70526dde51ab18ec4011c07a7e38e60}} 
\index{Board@{Board}!get\+Piece\+Moves@{get\+Piece\+Moves}}
\index{get\+Piece\+Moves@{get\+Piece\+Moves}!Board@{Board}}
\subsubsection{\texorpdfstring{get\+Piece\+Moves()}{getPieceMoves()}}
{\footnotesize\ttfamily void Board\+::get\+Piece\+Moves (\begin{DoxyParamCaption}\item[{\hyperlink{structmoveArray}{move\+Array} \&}]{result,  }\item[{const \hyperlink{structcheck}{check} \&}]{king\+Env,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{cur\+Pos,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{king\+Pos }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [private]}}



Calculate the legal moves of the piece on square$<$int$>$ cur\+Pos. 

This function helps the calc\+Moves function. It investigates the legal moves that one particular piece can make, and appends these to the temporary moves array created by calc\+Moves. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt out}  & {\em result} & This is the array that the newly found moves are being appended to. \\
\hline
\mbox{\tt in}  & {\em king\+Env} & The function uses this data structure to check whether the piece is pinned, or helps resolving a check. \\
\hline
\mbox{\tt in}  & {\em cur\+Pos} & This is the square where the piece, whose legal moves are begin investigated, is located. \\
\hline
\mbox{\tt in}  & {\em king\+Pos} & This is the square where the king of the player who is to move is located. Its value is used to speed up special cases of taking en passant. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{classBoard_a8b9245cb469f2e82c23ac49edd412646}\label{classBoard_a8b9245cb469f2e82c23ac49edd412646}} 
\index{Board@{Board}!has\+Attacker@{has\+Attacker}}
\index{has\+Attacker@{has\+Attacker}!Board@{Board}}
\subsubsection{\texorpdfstring{has\+Attacker()}{hasAttacker()}}
{\footnotesize\ttfamily bool Board\+::has\+Attacker (\begin{DoxyParamCaption}\item[{\hyperlink{structsquare}{square}$<$ int $>$}]{pos,  }\item[{const \hyperlink{structsquare}{square}$<$ int $>$}]{dir }\end{DoxyParamCaption}) const\hspace{0.3cm}{\ttfamily [private]}}



Invesitgate the possibility of attacks from dir at cur\+Pos. 

This function helps the is\+Attacked function to determine whether an attack over a long distance from a fixed direction occurs. 
\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em pos} & The position of which is determined whether it is under attack. \\
\hline
\mbox{\tt in}  & {\em dir} & The direction in which is being checked whether there is an attacker. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
This function returns a boolean, indicating whether there is an emeny piece attacking the square {\itshape pos} from direction {\itshape dir}. 
\end{DoxyReturn}
\mbox{\Hypertarget{classBoard_a3f5b48d92226217de5d488f3d5fb234a}\label{classBoard_a3f5b48d92226217de5d488f3d5fb234a}} 
\index{Board@{Board}!print\+Board@{print\+Board}}
\index{print\+Board@{print\+Board}!Board@{Board}}
\subsubsection{\texorpdfstring{print\+Board()}{printBoard()}}
{\footnotesize\ttfamily void Board\+::print\+Board (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}



Print a formatted representation of the board. 

Give a nice overview of the current position in the terminal window 

\subsection{Member Data Documentation}
\mbox{\Hypertarget{classBoard_acdbd7620b4c8bc08b2e42623c2a12a39}\label{classBoard_acdbd7620b4c8bc08b2e42623c2a12a39}} 
\index{Board@{Board}!board@{board}}
\index{board@{board}!Board@{Board}}
\subsubsection{\texorpdfstring{board}{board}}
{\footnotesize\ttfamily Piece\+::\+Piece Board\+::board\mbox{[}8\mbox{]}\mbox{[}8\mbox{]}\hspace{0.3cm}{\ttfamily [private]}}

This character array stores the position of the pieces on the board. Every entry in the character array corresponds to one square. The values of these characters correspond to the widely used F\+EN notation. \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Value }&\textbf{ A\+S\+C\+II representation }&\textbf{ Piece  }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Value }&\textbf{ A\+S\+C\+II representation }&\textbf{ Piece  }\\\cline{1-3}
\endhead
0x20 &Space &None \\\cline{1-3}
0x4B &K &White king \\\cline{1-3}
0x51 &Q &White queen \\\cline{1-3}
0x52 &R &White rook \\\cline{1-3}
0x42 &B &White bishop \\\cline{1-3}
0x4E &N &White knight \\\cline{1-3}
0x50 &P &White pawn \\\cline{1-3}
0x6B &k &Black king \\\cline{1-3}
0x71 &q &Black queen \\\cline{1-3}
0x72 &r &Black rook \\\cline{1-3}
0x62 &b &Black bishop \\\cline{1-3}
0x6E &n &Black knight \\\cline{1-3}
0x70 &p &Black pawn \\\cline{1-3}
\end{longtabu}
A convenient feature of this notation is that determining whether a piece is black can be done by doing an A\+ND operation with the bitmask 0x20. \mbox{\Hypertarget{classBoard_aad3145585c03f739311c35fa8f3277d3}\label{classBoard_aad3145585c03f739311c35fa8f3277d3}} 
\index{Board@{Board}!en\+Passant@{en\+Passant}}
\index{en\+Passant@{en\+Passant}!Board@{Board}}
\subsubsection{\texorpdfstring{en\+Passant}{enPassant}}
{\footnotesize\ttfamily signed char Board\+::en\+Passant\hspace{0.3cm}{\ttfamily [private]}}

This signed character stores whether the opponent in the last move advanced one of his pawns by two squares. If he did not, then the value is -\/1. Otherwise, it is in the range 0-\/7, where the value corresponds to the file on which the pawn was advanced in the last move. \mbox{\Hypertarget{classBoard_aaf6a2575c3bc280ddc9e445efd213e14}\label{classBoard_aaf6a2575c3bc280ddc9e445efd213e14}} 
\index{Board@{Board}!legal\+Moves@{legal\+Moves}}
\index{legal\+Moves@{legal\+Moves}!Board@{Board}}
\subsubsection{\texorpdfstring{legal\+Moves}{legalMoves}}
{\footnotesize\ttfamily \hyperlink{structmoveArray}{move\+Array} Board\+::legal\+Moves\hspace{0.3cm}{\ttfamily [private]}}

Here, all the legal moves that the player to move can play are stored. We have chosen not to go with the std\+::vector$<$move$>$ implementation, as our custom implementation saves about 15\% of runtime. \mbox{\Hypertarget{classBoard_a46a6e23b1b18542b10938f2b333862f1}\label{classBoard_a46a6e23b1b18542b10938f2b333862f1}} 
\index{Board@{Board}!state@{state}}
\index{state@{state}!Board@{Board}}
\subsubsection{\texorpdfstring{state}{state}}
{\footnotesize\ttfamily char Board\+::state\hspace{0.3cm}{\ttfamily [private]}}

This character contains seven flags. These flags store some auxiliary information about the position. They are listed in the table below. \tabulinesep=1mm
\begin{longtabu} spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Bit }&\textbf{ Keyword }&\textbf{ Description  }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\rowcolor{\tableheadbgcolor}\textbf{ Bit }&\textbf{ Keyword }&\textbf{ Description  }\\\cline{1-3}
\endhead
0 &check\+Mask &This flag is set if the player to move is checked. \\\cline{1-3}
1 &white\+Castle\+Kingside\+Mask &This flag is set if the player to move has not yet moved his king and kingside rook. \\\cline{1-3}
2 &white\+Castle\+Queenside\+Mask &This flag is set if the player to move has not yet moved his king and queenside rook. \\\cline{1-3}
3 &black\+Castle\+Kingside\+Mask &This flag is set if the player that is not to move has not yet moved his king and kingside rook. \\\cline{1-3}
4 &black\+Castle\+Queenside\+Mask &This flag is set if the player that is not to move has not yet moved his king and queenside rook. \\\cline{1-3}
5 &black\+To\+Move\+Mask &This flag is set if black currently is to move. \\\cline{1-3}
6 &draw\+Mask &This flag is set if there is a stalemate, or if giving checkmate with the pieces that are left on the board is not possible. In both cases, the game is considered to be drawn. \\\cline{1-3}
\end{longtabu}
Notice that it is no coincidence that the black\+To\+Move\+Mask corresponds to the fifth bit. The fifth bit being set in a character yields 0x20, which is exactly the mask that can be used to determine whether a piece is black or white. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
src/Board.\+h\item 
src/Board.\+cpp\end{DoxyCompactItemize}
